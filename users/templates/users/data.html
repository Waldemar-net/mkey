{% extends "profbase.html" %}
{% load static %}

{% block prof_content %}
<div class="content">
    <h4 class="text-center mb-4 text-white mt-3" style="font-family:'Multiround';">Личные данные</h4>
    <form action="{% url "users:data" %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="col mb-3 menu-profile-label text-white">
                <div class="text-center">
                    <img id="avatar-image" src="{% if user.image %}{{ user.image.url }}{% else %}{% static '/deps/images/baseavatar.png' %}{% endif %}"
                        alt="Аватар пользователя" class="img-fluid rounded-circle">
                    <div class="row">
                        <div class="col-md-15">
                            <label class="input-file">
                                <input type="file" class="form-control mt-3" id="id_image"
                                    name="image"
                                    placeholder="Выбрать"
                                    accept="image/*" onchange="previewImage(event)">
                                {% if form.image.errors %}
                                    <div class="alert alert-danger alert-dismissible fade show class-error">{{ form.image.errors }}</div>
                                {% endif %}
                                <span>Выберите файл</span>
                            </label>
                        </div>
                    </div>
                </div>
       
        
                    
                    <label for="id_first_name" class="form-label">Имя*</label>
                    <input type="text" class="form-control" id="id_first_name"
                        name="first_name"
                        placeholder="Введите ваше имя" 
                        value="{{ form.first_name.value }}"           
                        required>
                        {% if form.first_name.errors %}
                            <div class="alert alert-danger alert-dismissible fade show">{{form.first_name.errors}}</div>
                        {% endif %}
                    <label for="id_last_name" class="form-label">Фамилия*</label>
                    <input type="text" class="form-control" id="id_last_name"
                        name="last_name"
                        placeholder="Введите вашу фамилию" 
                        value="{{ form.last_name.value }}" 
                        required>
                        {% if form.last_name.errors %}
                            <div class="alert alert-danger alert-dismissible fade show">{{form.last_name.errors}}</div>
                        {% endif %} 
                    
                    <label for="id_username" class="form-label">Имя пользователя</label>
                    <input type="text" class="form-control" id="id_username"
                        name="username"
                        placeholder="Введите ваше имя пользователя" 
                        value="{{ form.username.value }}" 
                        required
                        readonly>
                        {% if form.username.errors %}
                            <div class="alert alert-danger alert-dismissible fade show">{{form.username.errors}}</div>
                        {% endif %}
                        
                    <label for="id_email" class="form-label">Email*</label>
                    <input type="email" class="form-control" id="id_email"
                        name="email"
                        placeholder="Введите ваш email *youremail@example.com" 
                        value="{{ form.email.value }}"
                        required>
                        {% if form.email.errors %}
                            <div class="alert alert-danger alert-dismissible fade show">{{form.email.errors}}</div>
                        {% endif %}
                    
                    <label for="id_pass1" class="form-label">Новый пароль</label>
                    <input type="password" class="form-control" id="id_pass1"
                            name="password1"
                            value=""
                            placeholder="Введите ваш новый пароль"
                            autocomplete="new-password">
                            {% if form.password1.errors %}
                                <div class="alert alert-danger alert-dismissible fade show">{{form.password1.errors}}</div>
                            {% endif %}
                    <label for="id_pass2" class="form-label">Подтвердить новый пароль</label>
                    <input type="password" class="form-control" id="id_pass2"
                            name="password2"
                            value=""
                            placeholder="Подтвердите новый пароль"
                            autocomplete="none">
                            {% if form.password2.errors %}
                                <div class="alert alert-danger alert-dismissible fade show">{{form.password2.errors}}</div>
                            {% endif %}
                    <button type="submit" class="btn btn-dark" style="border-radius: 0; background-color: rgb(102, 32, 32);">Сохранить</button>
                </div>
            
        </div>
    </form>
        
   
</div>
{% endblock %}